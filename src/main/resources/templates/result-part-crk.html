
<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<!--<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8"/>-->
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>

<meta name="viewport" content="width=device-width,maximum-scale=1.0, minimum-scale=1.0">
   
<script src="/js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/js/jqmeter.min.js" type="text/javascript"></script>
<script src="/js/echarts.min.js" type="text/javascript"></script>

<script src="/js/pressureResult/result-part-crk.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/css/style.css">

</head>
<script>   

//$(document).ready(function(){
// $('.pre-all').click(function(){
//     $('#pre-2-info').fadeIn();
//});
//   
//$('.pressure-level-info p a').click(function(){
//    $('.pressure-level-info').fadeOut();
//});  
//});
function chartresize(){
    console.log("chartresize");
    var temp = new initchart();
    temp.resize();
}
</script>  
<body style="background: #4A4A4A;">

<input type="hidden" th:value="${lineCodeStr}" id="lineCodeStr" />
<input type="hidden" th:value="${stationNameCode}" id="stationNameCode" />

 <div class="header">
    <div class="header-in">
       <div class="float-left"><h1>基于客流压力评估的上海轨道交通车站分级系统</h1></div>
       <div class="float-right">
           <a href="#">新建数据报告</a>
           <a href="#">历史数据信息</a>
           <a href="#">统计分析汇总</a>
       </div>
    </div>
 </div>
 

 <div class="container">
    <div class="card" style="margin-top: 20px;"> 
        <div class="pressure_result" >
            <!--出入口-->
            <div class="modal fade" id="pre-5-info" role="dialog" aria-labelledby="myModalLabel">
               <div class="modal-dialog" role="document">
            <div class="pressure-level-info modal-content container">
                <p>出入口客流压力等级说明<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></p>
                <div class="info-table">
                <table class="table table-bordered ">
                    <tr>
                        <th>级别</th> <th>平均行人步行速度</th> 
                        <th>分值</th> <th style="width: 25%;">行人状态</th>
                    </tr>
                    <tr>
                        <td>A严重拥挤</td><td>>0.20</td><td>100</td><td>人流处于间歇的不稳定的状态，步行速度严重受限。流量接近出入口通行能力。</td>
                    </tr>
                    <tr>
                        <td>B非常拥挤</td><td>(0.15,0.20]</td><td>80-100</td><td>该水平下接近出入口的通行能力，人流走走停停，或出现阻塞。</td>
                    </tr>
                    <tr>
                        <td>C拥挤</td><td>(0.10,0.15]</td><td>60-80</td><td>反向或交叉人流将引起轻微的冲突，速度和流量都有一定的下降。</td>
                    </tr>
                    <tr>
                        <td>D正常</td><td>(0.05,0.10]</td><td>40-60</td><td>在此水平下，行人感觉到其他行人的存在，并根据他们的存在选择行走路径。</td>
                    </tr>
                    <tr>
                        <td>E轻松</td><td>≤0.05</td><td>40</td><td>行走速度可以自由选择，行人间没有冲突。</td>
                    </tr>
                </table>
                </div>
            </div>
                </div>
            </div>
            <!--出入口-->
            
            <div class="pressure_head">
                <span class="ln2">2</span><span class="ln11">11</span>江苏路
                <div class="result-tab">
                <ul class="nav nav-tabs card-header-tabs " id="myTabs" role="tablist">
                  <li class="nav-item" role="presentation">
                    <a class="nav-link active" href="#ylt" id="station-tab" role="tab" data-toggle="tab" aria-controls="station" aria-expanded="false" >工作日</a>
                  </li>
                  <li class="border-l"></li>
                  <li class="nav-item" role="presentation">
                    <a class="nav-link" href="#ylmx" id="station-tab" role="tab" data-toggle="tab" aria-controls="station" aria-expanded="false"  onclick="javascript:chartresize()">特征日</a>
                  </li>
                </ul>
                </div>
            </div>
            
            <div class="tab-content" id="myTabContent">
            <div class="card-in ylt tab-pane fade in active" role="tabpanel" id="ylt" aria-labelledby="station-tab">
            <!--车站各部分压力等级-->
            
            <div id="main" class=" float-left col-9 part-pressure">

            </div>
            <!--车站各部分压力等级-->
            <!--车站总压力等级-->
            <div class="float-right col-3 pressure-shuomin">
            
<!--
               <table class="table table-striped table-bordered table-hover  col-12">
                                  <thead>
                                    <tr>
                                      <th scope="col">设施设备</th>
                                      <th scope="col">权重压力分配</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                   <tr>
                                      <td>1号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                    <tr>
                                      <td>2号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                    <tr>
                                      <td>8号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                  </tbody>
                                </table> 
-->
            
            <div class="pressure_level col-12">              
                <div class="station-pre2 pressure_result part-result">
                    <span>出入口分数</span>
                    <p><b>85.16</b></p>
                    
                    <span>压力等级</span>
                    <p><b>B</b></p>
                    <a class="pre-all" data-toggle="modal" data-target="#pre-5-info">压力等级说明</a>
                </div>
            </div>
               
            </div>
            <!--车站总压力等级-->
            </div>
            
            <div class="card-in ylmx tab-pane fade  " role="tabpanel" id="ylmx" aria-labelledby="station-tab">
            
            <div id="main2" class=" float-left col-9 part-pressure">
               
                <script type="text/javascript">
                   var initchart = function(){
    var chart2 = echarts.init(document.getElementById('main2'));
    var chart2_option={
        xAxis: {
        type: 'category',
        boundaryGap: false,
        data: ['8:00-8:15', '8:15-8:30', '8:30-8:45', '8:45-9:00', '9:00-9:15','9:15-9:30', '9:30-9:45', '9:45-10:00']
    },
    yAxis: {
        
        type: 'category',
        data:['E','D','C','B','A'],
        axisLine:{

            },
        boundaryGap:false
    },
    grid:{
       left:'5%',
       right:'5%',
    },
    title: {
        text: '出入口压力等级'
    },
    legend: {
        data:['1号线（特征日）','2号线（特征日）','8号线（特征日）','综合压力等级'],
        top:'7%'
    },
     tooltip : {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        },
       formatter: function (params,ticket,callback) {
            console.log(params)
            var res =  params[0].name;
            console.log(" name"+params[0].name);

            for (var i = 0, l = params.length; i < l; i++) {
                res += '<br/>' + params[i].seriesName + ' : ' + params[i].value;
            }          
            return res;
        }
    },
    
    series: [{
        data: ['D', 'B',  'B',  'A',  'A', 'B', 'B','B'],
        type: 'line',
        areaStyle:{},
        name:'1号线（特征日）',
        itemStyle : {
                    normal : {
                        lineStyle:{
                            width:7,//折线宽度
                            
                        }
                    }
                },
       
    },
   {
        data: ['D', 'D',  'C',  'C',  'B', 'C', 'C','C'],
        type: 'line',
        areaStyle:{},
        name:'2号线（特征日）',
       itemStyle : {
                    normal : {
                        lineStyle:{
                            width:5,//折线宽度
                            
                        }
                    }
                },
       
    },
    {
        data: ['D', 'D',  'D',  'D',  'C', 'C', 'D','D'],
        type: 'line',
        areaStyle:{},
        name:'8号线（特征日）',
        itemStyle : {
                    normal : {
                        lineStyle:{
                            width:3,//折线宽度
                            
                        }
                    }
                },
        
    },
   
    {
        data: ['D', 'D',  'D',  'C',  'B', 'C', 'D','D'],
        type: 'line',
        areaStyle:{},
        name:'综合压力等级',
        itemStyle : {
                    normal : {
                        lineStyle:{
                            width:1,//折线宽度
                            
                        }
                    }
                },
        
    },
    ]
    }
    chart2.setOption(chart2_option);
    $(function(){
        window.onresize = function(){
            chart2.resize();
        }
    })
    this.resize = function size(){
        var chart2div=document.getElementById('main2');
        var tabcontent = document.getElementById('myTabContent');
        width=tabcontent.offsetWidth;
        height=tabcontent.offsetHeight;
        chart2div.style.width=(width*3/4-15)+'px';
        chart2div.style.height=(height-10)+'px';
        chart2.resize(width,height);
    }
}
                   
                </script>
            </div>
            <!--车站各部分压力等级-->
            <!--车站总压力等级-->
            <div class="float-right col-3 pressure-shuomin">
            
<!--
               <table class="table table-striped table-bordered table-hover  col-12">
                                  <thead>
                                    <tr>
                                      <th scope="col">设施设备</th>
                                      <th scope="col">权重压力分配</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td>1号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                    <tr>
                                      <td>2号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                    <tr>
                                      <td>8号线出入口</td>
                                      <td>1</td>
                                    </tr>
                                  </tbody>
                                </table> 
-->
            
            <div class="pressure_level col-12">              
                <div class="station-pre2 pressure_result part-result">
                    <span>出入口分数</span>
                    <p><b>85.16</b></p>
                    
                    <span>压力等级</span>
                    <p><b>B</b></p>
                    <a class="pre-all" data-toggle="modal" data-target="#pre-5-info">压力等级说明</a>
                </div>
            </div>
               
            </div>
            <!--车站总压力等级-->
            
            </div>
            </div>
        </div>
    </div>  
    <!--card--> 
    <!--按钮栏-->
    <div class="btn-line-result row float-left">
        <a class="btn btn-secondary col-2" href="javascript:history.back(-1)" role="button">返回上一页</a>
    </div>
    <!--按钮栏-->
   
 </div>
 <!--container-->		

            
</body>
</html>  